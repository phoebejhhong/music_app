
<% if band.errors.any? %>
  <% band.errors.full_messages.each do |msg| %>
    <div><%= msg %></div>
  <% end %>
<% end %>

<% action_path = band.persisted? ?  "/bands/#{band.id}" : "/bands" %>
<% req_method = band.persisted? ?  "PATCH" : "POST"  %>
<% submit_value = band.persisted? ?  "Edit!" : "Create!"  %>

<form action="<%= action_path %>" method="post">
  <input type="hidden" name="_method" value="<%= req_method %>">

  <input type="hidden"
  name="authenticity_token"
  value="<%= form_authenticity_token %>">
  <label for="band_name">Name</label>
  <input id="band_name"
  type="text"
  name="band[name]"
  value="<%= band.name %>"><br />

  <input type="submit" value="<%= submit_value %>">
</form>
